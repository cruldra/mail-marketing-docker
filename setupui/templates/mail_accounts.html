<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>管理邮箱账户</title>
</head>
<body>
<div id="app">
    <el-row :gutter="20">
        <el-col :span="4">
            <div class="grid-content bg-purple"></div>
        </el-col>
        <el-col :span="16">
            <el-table
                    :data="accounts"
                    style="width: 100%">
                <el-table-column
                        prop="username"
                        label="账号">
                </el-table-column>
                <el-table-column
                        fixed="right"
                        label="操作"
                        width="100">
                    <template slot-scope="scope">
                        <el-button @click="handleClick(scope.row)" type="text" size="small">修改密码</el-button>
                        <el-button @click="handleClick(scope.row)" type="text" size="small">删除</el-button>
                    </template>
                </el-table-column>
            </el-table>
        </el-col>
        <el-col :span="4">
            <div class="grid-content bg-purple"></div>
        </el-col>
    </el-row>

    <el-dialog title="修改密码" :visible.sync="updateAccountPwd.dialogVisible">
        <el-form :model="updateAccountPwd.form">
            <el-form-item label="新密码" label-width="150px">
                <el-input v-model="updateAccountPwd.form.newPwd" autocomplete="off"></el-input>
            </el-form-item>

        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="updateAccountPwd.dialogVisible = false">取 消</el-button>
            <el-button type="primary" @click="dialogFormVisible = false">确 定</el-button>
        </div>
    </el-dialog>
</div>
</body>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
{% block scripts %}
<script>
    // @formatter:off
    const accounts ={{accounts}}
    // @formatter:on
    new Vue({
        el: '#app',
        delimiters: ['${', '}'],
        data: function () {
            return {
                accounts,
                updateAccountPwd: {
                    dialogVisible: false, form: {
                        newPwd: ''
                    }
                }
            }
        },
        methods:{
            openNewPwdForm(account){
                this.updateAccountPwd.dialogVisible = true

            }
        }
    })
</script>
{% endblock %}
</html>